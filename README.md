# 📚 موقع واجبات ثانوية الوائلي للمتميزين

## 🎯 نظرة عامة
موقع ويب متقدم لإدارة واجبات الثالث متوسط في ثانوية الوائلي للمتميزين. يدعم النظام إدارة الطلاب، نشر الواجبات، التبليغات الإدارية، والأرشفة التلقائية.

## ✨ الميزات الرئيسية

### 🔐 نظام المصادقة
- تسجيل دخول آمن بكود الطالب والاسم
- إدارة جلسات متقدمة مع نظام قفل مركزي
- صلاحيات خاصة للمشرف
- حماية من الاستخدام المتعدد لنفس الحساب

### 📋 إدارة الواجبات
- نشر واجبات جديدة مع تحديد يوم التسليم
- عرض الواجبات حسب الشعبة
- أرشفة تلقائية للواجبات المنتهية الصلاحية
- إحصائيات مشاهدة لكل واجب
- إمكانية حذف وأرشفة الواجبات

### 📢 نظام التبليغات
- نشر تبليغات إدارية (للمشرف فقط)
- عرض التبليغات لجميع الطلاب
- إمكانية أرشفة وحذف التبليغات

### 📊 لوحة الإحصائيات
- عرض إحصائيات شاملة للواجبات
- متابعة عدد المشاهدات
- إدارة الواجبات المؤرشفة والحالية

### 🌐 دعم عالمي ومتوافق
- يعمل مع جميع المتصفحات الحديثة والقديمة
- دعم كامل للغة العربية مع خطوط Noto
- تصميم متجاوب لجميع الأجهزة
- وضع مظلم/فاتح
- دعم الوضع المحلي عند انقطاع الإنترنت

## 🛠️ التقنيات المستخدمة

### Frontend
- **HTML5**: بنية الصفحة
- **CSS3**: التصميم مع Tailwind CSS
- **JavaScript (ES6+)**: منطق التطبيق
- **Noto Sans Arabic**: خطوط عربية عالية الجودة

### Backend & Storage
- **JSONBin.io**: تخزين البيانات عبر الإنترنت
- **localStorage**: تخزين محلي كـ fallback
- **Fetch API**: طلبات الشبكة

### الميزات التقنية المتقدمة
- **Service Worker** (اختياري): للعمل بدون إنترنت
- **AbortController**: إدارة طلبات الشبكة
- **أرشفة تلقائية**: جدولة ذكية للمهام
- **نظام Toast**: إشعارات مستخدم متقدم

## 📁 بنية المشروع

```
alwaely-project/
├── index.html              # الصفحة الرئيسية
├── main.js                 # منطق التطبيق الأساسي
├── style.css               # أنماط CSS المخصصة
├── tailwind.css           # إطار عمل Tailwind
├── tw-input.css           # ملف إدخال Tailwind
├── config.example.js      # مثال ملف الإعدادات
├── .gitignore            # ملفات مستثناة من Git
├── data/
│   └── studentCodes.js   # بيانات أكواد الطلاب
├── fonts/
│   ├── noto.css         # خطوط أونلاين
│   ├── noto-local.css   # خطوط محلية
│   └── fetch-fonts.ps1  # سكريبت تحميل الخطوط
└── imgs/
    └── alwaely.png      # شعار المدرسة
```

## 🚀 دليل التثبيت والإعداد

### 1. متطلبات النظام
- خادم ويب (Apache, Nginx, أو خادم محلي)
- متصفح ويب حديث يدعم ES6+
- اتصال بالإنترنت (لأول مرة)

### 2. الإعداد الأولي

#### أ. إعداد JSONBin.io
1. سجل حساب في [JSONBin.io](https://jsonbin.io)
2. أنشئ 3 أكواد bin منفصلة:
   - **bin الواجبات**: لتخزين بيانات الواجبات
   - **bin التبليغات**: لتخزين التبليغات الإدارية
   - **bin الأكواد**: لتخزين أكواد الطلاب وحالة الاستخدام

#### ب. إعداد ملف التكوين
```bash
# انسخ ملف المثال
cp config.example.js config.js
```

عدّل ملف `config.js`:
```javascript
export const CONFIG = {
  JSONBIN_API_KEY: 'your_actual_api_key_here',
  BINS: {
    HOMEWORK: 'your_homework_bin_id',
    ANNOUNCEMENTS: 'your_announcements_bin_id',
    CODES: 'your_codes_bin_id'
  },
  // باقي الإعدادات...
};
```

### 3. إعداد أكواد الطلاب
عدّل ملف `data/studentCodes.js` لإضافة أكواد طلابك:

```javascript
export const STUDENT_CODES = {
  "S1001": { name: "", section: "1", canPost: false, isActive: false },
  "S1002a": { name: "", section: "1", canPost: true, isActive: false }, // ناشر
  // ... إضافة باقي الأكواد
};
```

### 4. رفع الملفات
1. ارفع جميع الملفات لخادم الويب
2. تأكد أن ملف `config.js` غير مضمن في النسخة العامة
3. تحقق من أن جميع الصلاحيات صحيحة

## ⚙️ التكوين المتقدم

### إعدادات الأمان
```javascript
ADMIN: {
  CODE: 'admin_code_here',     // كود المشرف
  NAME: 'اسم المشرف الكامل'    // اسم المشرف بالضبط
},
```

### إعدادات الشبكة والأداء
```javascript
SETTINGS: {
  LOCK_TTL_MS: 120000,         // مدة صلاحية القفل (2 دقيقة)
  HEARTBEAT_INTERVAL_MS: 30000, // نبض كل 30 ثانية
  REQUEST_TIMEOUT_MS: 10000,    // مهلة الطلبات
  AUTO_ARCHIVE_INTERVAL_MS: 60000 // فحص الأرشفة كل دقيقة
}
```

## 🔒 الأمان وأفضل الممارسات

### حماية المفاتيح
- ✅ استخدم ملف `config.js` منفصل
- ✅ أضف `config.js` إلى `.gitignore`
- ✅ لا تشارك المفاتيح الحقيقية أبداً
- ✅ استخدم HTTPS في الإنتاج

### حماية البيانات
- ✅ التحقق من صحة جميع المدخلات
- ✅ تنظيف البيانات قبل التخزين
- ✅ إدارة جلسات آمنة
- ✅ نظام قفل لمنع الاستخدام المتعدد

## 🎨 التخصيص

### تخصيص الألوان والمظهر
عدّل ملف `style.css` لتغيير:
- ألوان الواجهة
- الخطوط والأحجام
- الرسوم المتحركة
- الوضع المظلم/الفاتح

### إضافة شعب جديدة
```javascript
// في studentCodes.js
"S5001": { name: "", section: "5", canPost: false, isActive: false },
```

## 🌍 الدعم العالمي

### دعم اللغات
- العربية: دعم كامل مع RTL
- الإنجليزية: دعم في الكود والتعليقات
- Unicode: دعم كامل لجميع الأحرف

### دعم المتصفحات
| المتصفح | الدعم | ملاحظات |
|---------|-------|---------|
| Chrome 60+ | ✅ كامل | مُوصى به |
| Firefox 55+ | ✅ كامل | مُوصى به |
| Safari 12+ | ✅ كامل | iOS & macOS |
| Edge 79+ | ✅ كامل | Chromium-based |
| IE 11 | ⚠️ محدود | عدم دعم بعض الميزات |

## 🐛 استكشاف الأخطاء وإصلاحها

### مشاكل شائعة

#### 1. خطأ في تحميل البيانات
```javascript
// تحقق من صحة المفاتيح في config.js
console.log('API Key:', CONFIG.JSONBIN_API_KEY);
```

#### 2. مشاكل في الخطوط
```bash
# تشغيل سكريبت تحميل الخطوط
powershell -ExecutionPolicy Bypass -File fonts/fetch-fonts.ps1
```

#### 3. مشاكل localStorage
- امسح بيانات المتصفح وأعد المحاولة
- تحقق من إعدادات الخصوصية

## 📊 المراقبة والإحصائيات

### سجلات النظام
يسجل التطبيق معلومات مفصلة في console:
```javascript
// تفعيل السجلات المفصلة
localStorage.setItem('debug', 'true');
```

### إحصائيات الاستخدام
- عدد المشاهدات لكل واجب
- معدل استخدام الطلاب
- إحصائيات الشعب

## 🔄 النسخ الاحتياطي والاستعادة

### نسخ احتياطي يدوي
```javascript
// تصدير جميع البيانات
const backup = {
  homework: await getHomework(),
  announcements: await getAnnouncements(),
  timestamp: new Date().toISOString()
};
console.log('Backup:', JSON.stringify(backup));
```

### استعادة البيانات
```javascript
// استيراد البيانات من نسخة احتياطية
await setHomework(backupData.homework);
await setAnnouncements(backupData.announcements);
```

## 🤝 المساهمة

### قواعد المساهمة
1. Fork المشروع
2. إنشاء فرع للميزة الجديدة
3. اختبار التغييرات بدقة
4. إرسال Pull Request

### معايير الكود
- استخدم أسماء متغيرات وصفية
- أضف تعليقات باللغة العربية
- تأكد من التوافق مع المتصفحات القديمة
- اتبع نمط الكود الحالي

## 📞 الدعم والتواصل

### المشاكل والاقتراحات
- أبلغ عن المشاكل في Issues
- اقترح ميزات جديدة
- شارك في النقاشات

### التواصل
- 📧 البريد الإلكتروني: [البريد الإلكتروني للمدرسة]
- 📱 الهاتف: [رقم هاتف المدرسة]

## 📋 الترخيص

هذا المشروع مرخص تحت [نوع الترخيص] - راجع ملف LICENSE للتفاصيل.

## 🙏 شكر وتقدير

- فريق تطوير JSONBin.io لتوفير خدمة ممتازة
- Google Fonts لخطوط Noto عالية الجودة  
- مجتمع Tailwind CSS للإطار الممتاز
- إدارة ومعلمي ثانوية الوائلي للمتميزين

---

💡 **نصيحة**: راجع هذا الدليل بانتظام للحصول على آخر التحديثات والميزات الجديدة.

🔄 **آخر تحديث**: أكتوبر 2024